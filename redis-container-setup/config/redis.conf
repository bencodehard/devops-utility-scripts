# config/redis.conf

# ให้ตอบรับทุก interface (ควรมี firewall มาช่วยอีกชั้น)
bind 0.0.0.0
port 6379

protected-mode yes

# Directory สำหรับเก็บ data (จะ map ไปที่ volume /data)
dir /data

# เปิด AOF สำหรับ durability (production ส่วนใหญ่แนะนำ)
appendonly yes

# ชี้ไปที่ ACL file
aclfile /usr/local/etc/redis/users.acl

# --- ถ้าใช้เป็น cache อาจตั้ง memory limit + eviction ---
# maxmemory 512mb
# maxmemory-policy allkeys-lru
#
# หมายเหตุ: เรื่อง requirepass เราจะไปใส่เพิ่มจาก docker-compose
# เพื่อให้ password มาจาก .env (ไม่ hardcode ในไฟล์นี้)