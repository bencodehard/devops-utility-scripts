# redis-container-setup ‚úÖ

‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡πÑ‡∏ü‡∏•‡πå‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ô Redis ‡πÉ‡∏ô‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏î‡πâ‡∏ß‡∏¢ Docker (‡∏£‡∏ß‡∏° Dockerfile, docker-compose ‡πÅ‡∏•‡∏∞ config)

---

## üîß ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
- ‡πÉ‡∏ä‡πâ image ‡∏à‡∏≤‡∏Å `redis:7-alpine` ‡∏û‡∏£‡πâ‡∏≠‡∏° config ‡∏à‡∏≤‡∏Å `config/redis.conf` ‡πÅ‡∏•‡∏∞ `config/users.acl`.
- ‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å `.env` (‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô `.env.example`).
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Redis ‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `data/` (‡∏ñ‡∏π‡∏Å‡πÅ‡∏°‡∏õ‡πÄ‡∏õ‡πá‡∏ô volume) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ persistent.

## ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- Docker
- Docker Compose ‡∏´‡∏£‡∏∑‡∏≠ Docker ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö `docker compose` CLI

## ‚ö°Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß (Quickstart)
1. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á .env:

```bash
cp .env.example .env
# ‡πÅ‡∏Å‡πâ‡∏Ñ‡πà‡∏≤ REDIS_PASSWORD ‡πÅ‡∏•‡∏∞‡∏û‡∏≠‡∏£‡πå‡∏ï (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
```

2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏™‡πÅ‡∏ï‡πá‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠:

```bash
./scripts/redis_helper.sh start
```

3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ / ‡∏î‡∏π logs / ‡∏´‡∏¢‡∏∏‡∏î:

```bash
./scripts/redis_helper.sh status
./scripts/redis_helper.sh logs   # ‡∏Å‡∏î Ctrl+C ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å
./scripts/redis_helper.sh stop
```

4. ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏° volumes ‡πÅ‡∏•‡∏∞‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `data/`) ‚Äî ‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á:

```bash
./scripts/redis_helper.sh clean
# ‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå 'yes' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô
```

> ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ `docker compose` ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á: `docker compose up -d --build`, `docker compose down -v`, ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô

## üîê ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° (‡πÉ‡∏ô `.env`)
- `REDIS_PASSWORD` (‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‚Äî ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö `redis-server` ‡πÅ‡∏•‡∏∞ `redis-cli`.
- `REDIS_PORT` (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô `6379`) ‚Äî ‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ó‡∏µ‡πà‡πÅ‡∏°‡∏õ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á host.
- `COMPOSE_PROJECT_NAME` ‚Äî ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ project ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö docker-compose (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- `docker-compose.yml` ‚Äî service definition ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏°‡∏õ‡∏û‡∏≠‡∏£‡πå‡∏ï/volume
- `Dockerfile` ‚Äî base image ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å config
- `config/redis.conf` ‚Äî ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ redis (bind, dir, appendonly, aclfile)
- `config/users.acl` ‚Äî ACL user examples
- `scripts/redis_helper.sh` ‚Äî script ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å (start/stop/restart/status/logs/clean)
- `data/` ‚Äî ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (mounted volume)

## üîå ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (local)
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢ `redis-cli`:

```bash
redis-cli -h 127.0.0.1 -p ${REDIS_PORT:-6379} -a "${REDIS_PASSWORD}"
# ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≤‡∏Å container:
# docker exec -it redis redis-cli -a "${REDIS_PASSWORD}" ping
```

## üõ† Troubleshooting
- ‡∏ñ‡πâ‡∏≤ `docker compose` ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ `docker compose` ‡∏´‡∏£‡∏∑‡∏≠ `docker-compose` CLI ‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `REDIS_PASSWORD` ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ñ‡∏π‡∏Å‡πÅ‡∏°‡∏õ
- ‡∏î‡∏π logs ‡∏î‡πâ‡∏ß‡∏¢: `./scripts/redis_helper.sh logs` ‡∏´‡∏£‡∏∑‡∏≠ `docker compose logs -f redis`

## üîê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ / ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
- ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÉ‡∏ô production ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô firewall ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô secret manager ‡∏´‡∏£‡∏∑‡∏≠ environment-safe mechanism ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£ commit ‡πÑ‡∏ü‡∏•‡πå

## üìÑ License
‡πÇ‡∏Ñ‡πâ‡∏î‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏ license (‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£/‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)

---

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏ú‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Redis (‡πÄ‡∏ä‡πà‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á ACL, ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á AOF/RDB ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö healthcheck) ‡πÉ‡∏´‡πâ‡πÉ‡∏ô README ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö. 
